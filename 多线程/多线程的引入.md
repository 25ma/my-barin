# 一、JAVA 中线程的状态

1. 在 JAVA 中线程有六种状态。

其中能进入 blocked 的只有 synchronized 触发，经过 ReentrantLock 触发只会进入到 time waiting 状态。

- 可以通过 jps 命令查看当前运行的 java 应用
- 通过 jstack "pid" 查看堆栈信息
- 通过 javap -v xx.Class 查看字节码文件

![](https://varg-my-images.oss-cn-beijing.aliyuncs.com/img/20220421224339.png)

2. JAVA 中线程中断的方式

对于线程接受到 interrupt 信号后，可以选择响应中断或者忽略中断信号。当选择响应中断时，此时线程会被中断，这是一种友好的处理方式。但若是忽略中断的话，线程的中断标记会被复位，以后续响应中断。如以下的代码若选择第二种处理方式，则线程会一直运行，不会停止。

```java
public class ThreadInterruptTest implements Runnable {  
  
  
    @Override  
    public void run() {  
        while (!Thread.currentThread().isInterrupted()) {  
            try {  
                System.out.println("hi");  
                TimeUnit.SECONDS.sleep(1);  
            } catch (InterruptedException e) {  
                // 处理中断信号，由线程本身决定是否响应中断  
  
                // 1. 处理1，响应中断，退出循环  
                //Thread.currentThread().interrupt();  
  
                // 2. 忽略中断,当按照此种方式处理后，线程并不会退出。当异常抛出后，操作系统会将线程状态复位。  
                // 此时当前线程的Interrupt标记仍然为false  
                continue;  
            }  
        }    }  
    public static void main(String[] args) throws InterruptedException {  
        Thread threadInterruptTester = new Thread(new ThreadInterruptTest(), "threadInterruptTester");  
        threadInterruptTester.start();  
  
        TimeUnit.MICROSECONDS.sleep(200);  
  
        // 触发中断  
        threadInterruptTester.interrupt();  
  
    }  
  
}
```